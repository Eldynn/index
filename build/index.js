!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Index=e()}(this,function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function n(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.members=new Set,t}return n(t,e),t.prototype.add=function(t){this.members.add(t)},t.prototype.delete=function(t){this.members.delete(t)},t.prototype.destroy=function(){this.members.forEach(function(t){return t.destroy()}),this.members.clear()},Object.defineProperty(t.prototype,"size",{get:function(){return this.members.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this.members.has(t)},t}(function(t){this.id=t}),i=function(){function n(t,e){this.user=t,this.group=e,this.user.add(this),this.group.add(this)}return n.build=function(t,e){return new n(t,e)},n.prototype.destroy=function(){this.group.delete(this),this.user.delete(this)},n}(),e=function(r){function t(t,e){var n=r.call(this,t)||this;return n.owner=e,i.build(e,n),n}return n(t,r),t}(t),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t),s=function(){function t(){this.items=new Map,this.users=new Set,this.groups=new Set}return t.prototype.add=function(t){return this.items.set(t.id,t),t instanceof o?this.users.add(t):t instanceof e&&this.groups.add(t),this},t.prototype.delete=function(t){return this.items.delete(t.id),t instanceof o?this.users.delete(t):t instanceof e&&this.groups.delete(t),this},t.prototype.get=function(t){return this.items.get(t)},t}();return{Group:e,Index:s,User:o}});
//# sourceMappingURL=index.js.map
